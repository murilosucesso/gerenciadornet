<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<rich:modalPanel id="detalhesClientePopUp" minWidth="900" minHeight="300"
	autosized="true" top="150px" onhide="focarBotaoAdd()"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<f:facet name="header">
		<h:panelGroup>
			<h:outputText value="Detalhes do Cliente"></h:outputText>
		</h:panelGroup>
	</f:facet>

	<f:facet name="controls">
		<h:panelGroup>
			<h:graphicImage value="/img/close.png" id="closeDetalharClientePopUp"
				style="cursor:pointer;" />
			<rich:componentControl for="detalhesClientePopUp"
				attachTo="closeDetalharClientePopUp" operation="hide"
				event="onclick" />
		</h:panelGroup>
	</f:facet>

	<a:outputPanel id="anotacoesPanel" ajaxRendered="true">
	<rich:panel> 
	<!-- Dados do Cliente -->
		<rich:panel> 
		<table width="100%" border="0">
			<tr>
				<td colspan="2" align="right">
 						
					<h:outputText value="#{vendaHome.instance.cliente.grupo.nomeGrupo}" 
						rendered="#{not empty vendaHome.instance.cliente.grupo.nomeGrupo}" styleClass="textoGrande" /> 
						
					<h:outputText value="Cliente não possui Grupo(Carteira)" 
						rendered="#{empty vendaHome.instance.cliente.grupo.nomeGrupo}" styleClass="textoGrandeVermelho" /> 
				</td>
				<td colspan="4" align="right">
					<h:outputText value="Código Cliente: #{vendaHome.instance.cliente.codCliente}" styleClass="textoGrande" />
				</td>
			</tr>
			
			<tr>
				<td colspan="6" height="15"></td>
			</tr>
			
			<tr> 
				<td width="160px"  height="25" nowrap="nowrap">
					<h:outputText value="Nome"  rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoNegrito6"/> 
					<h:outputText value="Razão Social" rendered="#{vendaHome.instance.cliente.tipoPessoa == true}" styleClass="textoNegrito6"/>
				</td>
				<td>
					<h:outputText value="#{vendaHome.instance.cliente.nome}"  rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoMedioCinza4"/>
					<h:outputText value="#{vendaHome.instance.cliente.nome}" rendered="#{vendaHome.instance.cliente.tipoPessoa == true}" styleClass="textoMedioCinza4"/>
				</td>
				<td width="140px">
					<h:outputText value="C.P.F" rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoNegrito6"/>
					<h:outputText value="C.N.P.J" rendered="#{vendaHome.instance.cliente.tipoPessoa == true}" styleClass="textoNegrito6"/>
				</td>
				<td>
					<h:outputText value="#{vendaHome.instance.cliente.cpfCnpj}"  rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoMedioCinza4"/>
					<h:outputText value="#{vendaHome.instance.cliente.cpfCnpj}"  rendered="#{vendaHome.instance.cliente.tipoPessoa == true}" styleClass="textoMedioCinza4"/>
				</td>
				<td width="140px"> 
					<h:outputLabel value="I.E" rendered="#{vendaHome.instance.cliente.tipoPessoa == true}" styleClass="textoNegrito6"/>
					<h:outputLabel value="R.G" rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoNegrito6"/>
				</td>
				<td>
					<h:outputText value="#{vendaHome.instance.cliente.rgIe}"  rendered="#{vendaHome.instance.cliente.tipoPessoa == true}" styleClass="textoMedioCinza4"/>
					<h:outputText value="#{vendaHome.instance.cliente.rgIe}"  rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoMedioCinza4"/>
				</td>
			</tr>
			
			<tr>
				<td  height="25">
					<h:outputText value="Email" styleClass="textoNegrito6"/>
				</td>
				<td>
					<h:outputText value="#{vendaHome.instance.cliente.email}" styleClass="textoMedioCinza4"/>
				</td>
				<td>
					<h:outputLabel value="Telefone" styleClass="textoNegrito6"/>
				</td>
				<td nowrap="nowrap">
					<h:outputText value="#{vendaHome.instance.cliente.telefone}" styleClass="textoMedioCinza4"/>
				</td>
				<td  nowrap="nowrap">
					<h:outputLabel value="Data Nascimento" rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoNegrito6"/>
				</td>
				<td  nowrap="nowrap">
					<h:outputText value="#{vendaHome.instance.cliente.dtNascimento}"  rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoMedioCinza4"/>
				</td>
			</tr>
			
			<tr>
				<td nowrap="nowrap"  height="25">
					<h:outputText value="Situação Financeira" styleClass="textoNegrito6"/>
				</td>
				<td>
					<h:outputText value="Adimplente" rendered="#{vendaHome.instance.cliente.inAdimplente}" styleClass="textoMedioCinza4"/>
					<h:outputText value="Inadimplente" rendered="#{!vendaHome.instance.cliente.inAdimplente}" styleClass="textoGrandeVermelho"/>
				</td>
				<td>
					<h:outputText value="Data de Cadastro" styleClass="textoNegrito6"/>
				</td>
				<td>
					<h:outputText value="#{vendaHome.instance.cliente.dtCadastro}"  styleClass="textoMedioCinza4">
		                <s:convertDateTime type="date" pattern="dd/MM/yyyy"/>
		            </h:outputText> 
				</td>
				<td>
					<h:outputText value="Sexo" rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoNegrito6"/>
				</td>
				<td>
					<h:outputText value="#{clienteHome.getSexoDesc()}" rendered="#{vendaHome.instance.cliente.tipoPessoa == false}" styleClass="textoMedioCinza4"/>
				</td>
			</tr>
			
			<tr>
				<td  height="25">
					<h:outputText value="Responsável" styleClass="textoNegrito6"/>
				</td>
				<td  nowrap="nowrap">
					<h:outputText value="#{vendaHome.instance.cliente.usuario.nomeUsuario}" styleClass="textoMedioCinza4"/>
				</td>
				<td>
					<h:outputText value="Última Compra" styleClass="textoNegrito6"/>
				</td>
				<td colspan="3" >
					<h:outputText value="#{clienteList.getDataUltimaVenda( vendaHome.instance.cliente.codCliente )}"  styleClass="textoMedioCinza4">
		                <s:convertDateTime type="date" pattern="dd/MM/yyyy"/>
		            </h:outputText> 
				</td>
			</tr>
			
			<tr>				
				<td>
					<h:outputText value="Observação" styleClass="textoNegrito6"/>
				</td>
				<td colspan="5" >
					<h:outputText value="#{vendaHome.instance.cliente.observacao}" styleClass="textoMedioCinza4"/>
				</td>
			</tr>
		</table>
		</rich:panel> 
		
	<!-- Lista de Endereços do Cliente -->
		<rich:spacer height="20px" />
		<h:outputText value="Endereços " styleClass="textoNegrito"/>
		<h:outputText value=" (Escreva no campo Observação qual o endereço de entrega.)" styleClass="textoMedioVermelho" />

		<br/><br/>
        <h:outputText value="Nao existe enderecos associados a este cliente."  styleClass="textoMedioCinza4"
                   rendered="#{empty vendaHome.enderecosCliente}"/>
                   
        <rich:dataTable value="#{vendaHome.enderecosCliente}"
                       var="_endereco"
                  rendered="#{not empty vendaHome.enderecosCliente}"
                        id="enderecosTable"
            onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
             onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowBackgroundColor}'"
             columnClasses="center"  
             		  rows="10" 
                rowClasses="tableRowOne,tableRowTwo">
          
           <ui:include src="/includes/includeListarEnderecos.xhtml"/>
           
        </rich:dataTable>
	
	<!-- Lista de Anotações do Cliente -->
		<br/><br/>
		<h:outputText value="Anotações" styleClass="textoNegrito"/>
		
		<rich:dataTable value="#{vendaHome.anotacoes}" 
			id="anotacoesTable"
			var="_anotacao"
			rendered="#{not empty vendaHome.anotacoes}" 
			onRowMouseOver="this.style.backgroundColor='#F0F0F0'"
			onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowBackgroundColor}'"
			columnClasses="center" 
			footerClass="center" 
			rows="10" 
			columnsWidth="15%, 15%,*" 
			rowClasses="tableRowOne,tableRowTwo">
		
			<rich:column id="dataAnotacao" sortBy="#{_anotacao.dataAnotacao}">
				<f:facet name="header">
					<h:outputText value="Data da Anotação" />
				</f:facet>
				<h:outputText value="#{_anotacao.dataAnotacao}">
					<s:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm:ss"/>
				</h:outputText>
			</rich:column>
		
			<rich:column sortBy="#{_anotacao.usuario.nomeUsuario}">
				<f:facet name="header">
					<h:outputText value="Usuário" />
				</f:facet>
				<h:outputText value="#{_anotacao.usuario.nomeUsuario}" />
			</rich:column>
			
			<rich:column styleClass="left" >
				<f:facet name="header">
					<h:outputText value="Anotação" />
				</f:facet>
				<h:outputText value="#{_anotacao.descAnotacao}" />
			</rich:column>
			
		</rich:dataTable>
		<br/><br/>
		<h:outputText value="Este cliente não possui anotações cadastradas." styleClass="textoMedioCinza4" rendered="#{empty vendaHome.anotacoes}"  />
	</rich:panel> 
</a:outputPanel>

</rich:modalPanel>
